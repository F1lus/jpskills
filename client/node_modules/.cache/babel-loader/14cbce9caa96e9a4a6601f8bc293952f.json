{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\M\\xE1rk\\\\Documents\\\\GitHub\\\\jpskills\\\\client\\\\src\\\\components\\\\exams\\\\modify\\\\ModifyPdf.js\";\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport { ArrowLeftIcon, ArrowRightIcon } from '@primer/octicons-react';\nModal.setAppElement('#root');\nexport default function ModalElement(props) {\n  const socket = props.socket;\n  const exam = props.exam;\n  const [show, setShow] = useState(false);\n  const [doc, setDoc] = useState(null);\n  const [pageNum, setPageNum] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [newDoc, setNewDoc] = useState(null);\n\n  const open = () => setShow(true);\n\n  const close = () => setShow(false);\n\n  pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n  useEffect(() => {\n    socket.emit('examDoc-signal', exam);\n    socket.on('examDoc-emitter', document => {\n      if (document) {\n        setDoc(document);\n      }\n    }); // eslint-disable-next-line\n  }, [show, forceUpdate]);\n\n  function onDocumentLoadSuccess(numPages) {\n    setPageNum(numPages);\n  }\n\n  function nextPage(event) {\n    event.preventDefault();\n\n    if (pageNum) {\n      setCurrentPage(page => {\n        if (page + 1 > pageNum) {\n          return page;\n        } else {\n          return page + 1;\n        }\n      });\n    }\n  }\n\n  function prevPage(event) {\n    event.preventDefault();\n\n    if (pageNum) {\n      setCurrentPage(page => {\n        if (page - 1 < 1) {\n          return page;\n        } else {\n          return page - 1;\n        }\n      });\n    }\n  }\n\n  function handleChange(event) {\n    setNewDoc(event.target.files[0]);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if (newDoc) {\n      socket.emit('examDoc-modify', newDoc);\n      socket.on('examDoc-response', response => {\n        if (response) {\n          socket.emit('examDoc-signal');\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning m-3\",\n    onClick: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"PDF m\\xF3dos\\xEDt\\xE1s\"), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: show,\n    onRequestClose: close,\n    style: {\n      overlay: {\n        marginTop: \"30px\",\n        backgroundColor: \"rgba(0,0,0,0.3)\",\n        backdropFilter: \"blur(6px)\"\n      },\n      content: {\n        textAlign: \"center\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, \"A vizsg\\xE1hoz tartoz\\xF3 tananyag\"), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"w-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Document, {\n    width: 300,\n    height: 300,\n    loading: \"A virtu\\xE1lis dokumentum bet\\xF6lt\\xE9se...\",\n    file: {\n      data: doc\n    },\n    onLoadSuccess: page => onDocumentLoadSuccess(page.numPages),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Page, {\n    pageNumber: currentPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, currentPage, \" / \", pageNum), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-primary m-2\",\n    onClick: prevPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ArrowLeftIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-primary m-2\",\n    onClick: nextPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ArrowRightIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: handleChange,\n    name: \"examDoc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-warning mt-3\",\n    value: \"L\\xE9trehoz\\xE1s\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 33\n    }\n  }, \"Felt\\xF6lt\\xE9s!\")))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"w-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning m-2\",\n    onClick: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, \"Bez\\xE1r!\"))));\n}","map":{"version":3,"sources":["C:/Users/Márk/Documents/GitHub/jpskills/client/src/components/exams/modify/ModifyPdf.js"],"names":["React","useState","useEffect","Modal","Document","Page","pdfjs","ArrowLeftIcon","ArrowRightIcon","setAppElement","ModalElement","props","socket","exam","show","setShow","doc","setDoc","pageNum","setPageNum","currentPage","setCurrentPage","newDoc","setNewDoc","open","close","GlobalWorkerOptions","workerSrc","version","emit","on","document","forceUpdate","onDocumentLoadSuccess","numPages","nextPage","event","preventDefault","page","prevPage","handleChange","target","files","handleSubmit","response","overlay","marginTop","backgroundColor","backdropFilter","content","textAlign","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Modal from 'react-modal'\r\nimport {Document, Page, pdfjs} from 'react-pdf'\r\n\r\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\r\n\r\nimport { ArrowLeftIcon, ArrowRightIcon } from '@primer/octicons-react';\r\n\r\nModal.setAppElement('#root')\r\n\r\nexport default function ModalElement(props) {\r\n\r\n    const socket = props.socket\r\n    const exam = props.exam\r\n\r\n    const [show, setShow] = useState(false)\r\n    const [doc, setDoc] = useState(null)\r\n    const [pageNum, setPageNum] = useState(null);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [newDoc, setNewDoc] = useState(null)\r\n\r\n    const open = () => setShow(true)\r\n    const close = () => setShow(false)\r\n\r\n    pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\r\n\r\n    useEffect(() => {\r\n        socket.emit('examDoc-signal', exam)\r\n\r\n        socket.on('examDoc-emitter', document => {\r\n            if(document){\r\n                setDoc(document)\r\n            }\r\n        })\r\n        // eslint-disable-next-line\r\n    }, [show, forceUpdate])\r\n\r\n    function onDocumentLoadSuccess(numPages) {\r\n        setPageNum(numPages)\r\n    }\r\n\r\n    function nextPage(event){\r\n        event.preventDefault()\r\n        if(pageNum){\r\n            setCurrentPage(page => {\r\n                if(page+1 > pageNum){\r\n                    return page\r\n                }else{\r\n                    return page+1\r\n                }\r\n            })\r\n        }\r\n    }\r\n    function prevPage(event){\r\n        event.preventDefault()\r\n        if(pageNum){\r\n            setCurrentPage(page => {\r\n                if(page-1 < 1){\r\n                    return page\r\n                }else{\r\n                    return page-1\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    function handleChange(event){\r\n        setNewDoc(event.target.files[0])\r\n    }\r\n\r\n    function handleSubmit(event){\r\n        event.preventDefault()\r\n        if(newDoc){\r\n            socket.emit('examDoc-modify', newDoc)\r\n            socket.on('examDoc-response', response => {\r\n                if(response){\r\n                    socket.emit('examDoc-signal')\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <button className=\"btn btn-warning m-3\" onClick={open}>\r\n                PDF módosítás\r\n            </button>\r\n\r\n            <Modal isOpen={show} onRequestClose={close}\r\n            style={\r\n                {\r\n                    overlay: {\r\n                        marginTop: \"30px\",\r\n                        backgroundColor: \"rgba(0,0,0,0.3)\",\r\n                        backdropFilter: \"blur(6px)\"\r\n                    },\r\n                    content: {\r\n                        textAlign: \"center\"\r\n                    }\r\n                }\r\n            }>\r\n                <div>\r\n                    <h1>A vizsgához tartozó tananyag</h1>\r\n                    <hr className=\"w-75\"/>\r\n                    <div className=\"container\">\r\n                        <Document\r\n                            width={300}\r\n                            height={300}\r\n                            loading='A virtuális dokumentum betöltése...'\r\n                            file={{data: doc}} \r\n                            onLoadSuccess={page => onDocumentLoadSuccess(page.numPages)}>\r\n                                <Page pageNumber={currentPage} />\r\n                        </Document>\r\n                        <p>{currentPage} / {pageNum}</p>\r\n\r\n                        <button className=\"btn btn-outline-primary m-2\" onClick={prevPage}>\r\n                            <i>\r\n                                <ArrowLeftIcon/>\r\n                            </i>\r\n                        </button>\r\n\r\n                        <button className=\"btn btn-outline-primary m-2\" onClick={nextPage}>\r\n                            <i>\r\n                                <ArrowRightIcon/>\r\n                            </i>\r\n                        </button>\r\n                    \r\n                        <form>\r\n                            <div className=\"container\">\r\n                                <input type=\"file\" onChange={handleChange} name=\"examDoc\"/>\r\n                            </div>\r\n                            <div className=\"container text-center\">\r\n                                <button type=\"submit\" className=\"btn btn-warning mt-3\" value=\"Létrehozás\">Feltöltés!</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    <hr className=\"w-75\"/>\r\n                    <button className=\"btn btn-warning m-2\" onClick={close}>Bezár!</button>\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}