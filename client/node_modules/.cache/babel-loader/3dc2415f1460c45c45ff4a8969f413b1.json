{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\M\\xE1rk\\\\Documents\\\\GitHub\\\\jpskills\\\\client\\\\src\\\\components\\\\exams\\\\Exams.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Axios from 'axios';\nimport API from '../BackendAPI';\nexport default function Exams(props) {\n  const [exams, setExams] = useState([]);\n  const examCheckInterval = useRef();\n\n  function examCheck(axiosCancel) {\n    API.get('/exams', {\n      cancelToken: axiosCancel.token\n    }).then(res => {\n      if (!res.data.names || !res.data.codes) {\n        setExams([]);\n      } else {\n        let examList = [];\n\n        for (let i = 0; i < res.data.names.length; i++) {\n          let exam = [];\n          exam.push(res.data.names[i], res.data.codes[i]);\n          examList.push(exam);\n        }\n\n        setExams(examList);\n        console.log(\".\");\n      }\n    }).catch(err => console.log(err));\n  }\n\n  useEffect(() => {\n    const axiosCancel = Axios.CancelToken.source();\n    const id = setInterval(examCheck(axiosCancel), 10000);\n    examCheckInterval.current = id;\n    return () => {\n      axiosCancel.cancel('ComponentMount');\n      clearInterval(examCheckInterval.current);\n    };\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container shadow rounded text-center p-3 mt-5 bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, \"El\\xE9rhet\\u0151 vizsg\\xE1k:\")), exams.length === 0 ? /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 35\n    }\n  }, \"Jelenleg nem tal\\xE1lhat\\xF3ak el\\xE9rhet\\u0151 vizsg\\xE1k\") : exams.map((exam, index) => {\n    if (props.permission === 'admin') {\n      return /*#__PURE__*/React.createElement(NavLink, {\n        key: index,\n        to: `/exams/modify/${exam[1]}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-outline-primary m-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 29\n        }\n      }, exam[0]));\n    } else {\n      return /*#__PURE__*/React.createElement(NavLink, {\n        key: index,\n        to: `/exams/${exam[1]}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-outline-primary m-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }\n      }, exam[0]));\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/Márk/Documents/GitHub/jpskills/client/src/components/exams/Exams.js"],"names":["React","useState","useEffect","useRef","NavLink","Axios","API","Exams","props","exams","setExams","examCheckInterval","examCheck","axiosCancel","get","cancelToken","token","then","res","data","names","codes","examList","i","length","exam","push","console","log","catch","err","CancelToken","source","id","setInterval","current","cancel","clearInterval","map","index","permission"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react'\r\n\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport Axios from 'axios'\r\nimport API from '../BackendAPI'\r\n\r\nexport default function Exams(props){\r\n\r\n    const [exams, setExams] = useState([])\r\n    const examCheckInterval = useRef()\r\n\r\n    function examCheck(axiosCancel){\r\n        API.get('/exams', {cancelToken: axiosCancel.token})\r\n            .then(res => {\r\n                if(!res.data.names || !res.data.codes){\r\n                    setExams([])\r\n                }else{\r\n                    let examList = []\r\n                    for(let i = 0; i<res.data.names.length; i++){\r\n                        let exam = []\r\n                        exam.push(res.data.names[i], res.data.codes[i])\r\n                        examList.push(exam)\r\n                    }\r\n                    setExams(examList)\r\n                    console.log(\".\")\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    useEffect(() => {\r\n        const axiosCancel = Axios.CancelToken.source()\r\n        const id = setInterval(examCheck(axiosCancel), 10000)\r\n\r\n        examCheckInterval.current = id\r\n\r\n        return () => {\r\n            axiosCancel.cancel('ComponentMount')\r\n            clearInterval(examCheckInterval.current)\r\n        }\r\n    })\r\n\r\n    return(\r\n        <div className=\"container shadow rounded text-center p-3 mt-5 bg-light\">\r\n            <h1><p>Elérhető vizsgák:</p></h1>\r\n            {exams.length === 0 ? <h1>Jelenleg nem találhatóak elérhető vizsgák</h1> : exams.map((exam, index)=>{\r\n                if(props.permission === 'admin'){\r\n                    return(\r\n                        <NavLink key={index} to={`/exams/modify/${exam[1]}`}>\r\n                            <button className=\"btn btn-outline-primary m-2\">\r\n                                {exam[0]}\r\n                            </button>\r\n                        </NavLink>\r\n                        \r\n                    )\r\n                }else{\r\n                    return(\r\n                        <NavLink key={index} to={`/exams/${exam[1]}`}>\r\n                            <button className=\"btn btn-outline-primary m-2\">\r\n                                {exam[0]}\r\n                            </button>\r\n                        </NavLink>\r\n                    )\r\n                }\r\n            })}\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}