{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\M\\xE1rk\\\\Documents\\\\GitHub\\\\jpskills\\\\client\\\\src\\\\components\\\\exams\\\\create\\\\CreateTest.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport API from '../../BackendAPI';\nexport default function CreateTest(props) {\n  const permission = props.permission;\n  const socket = props.socket;\n  const [item, setItem] = useState(null);\n  const [examName, setExamName] = useState(null);\n  const [comment, setComment] = useState(null);\n  const [examDoc, setExamDoc] = useState(null);\n  const [result, setResult] = useState(null);\n  const [items, setItems] = useState([]);\n  const [uploaded, setUploaded] = useState(false);\n  useEffect(() => {\n    socket.emit('get-products');\n  }, [socket]);\n  useEffect(() => {\n    socket.on('products-emitter', products => {\n      if (products) {\n        setItems(products);\n      } else {\n        setItems([]);\n      }\n    });\n  });\n\n  function handleChange(event) {\n    switch (event.target.name) {\n      case 'item':\n        if (event.target.value === 'A vizsga terméke') {\n          break;\n        } else {\n          setItem(event.target.value);\n          break;\n        }\n\n      case 'examName':\n        setExamName(event.target.value);\n        break;\n\n      case 'comment':\n        setComment(event.target.value);\n        break;\n\n      case 'examDoc':\n        console.log(event.target.files[0]);\n        setExamDoc(event.target.files[0]);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if (permission !== 'admin') {\n      setResult('Parancs megtagadva! Nincs megfelelő jogosultsága!');\n      return;\n    }\n\n    if (examDoc == null) {\n      setResult('A fájl feltöltése kötelező!');\n      return;\n    }\n\n    if (item == null || examName == null) {\n      setResult('Legalább egy kötelező mező üresen maradt!');\n      return;\n    }\n\n    const data = new FormData();\n    data.append('item', item);\n    data.append('examName', examName);\n    data.append('comment', comment);\n    data.append('examDoc', examDoc);\n    setResult(null);\n    API.post('/exams/upload', data, {\n      headers: {\n        'Content-Type': `multipart/form-data; boundary=${data._boundary}`\n      }\n    }).then(res => {\n      switch (res.data.result) {\n        case 'invalid_file_type':\n          setResult('A fájl kiterjesztése nem PDF!');\n          break;\n\n        case 200:\n          setResult('A vizsga felvétele sikeres volt!');\n          setUploaded(true);\n          socket.emit('get-products');\n          socket.emit('exams-get-signal');\n          break;\n\n        case 'invalid_file_size':\n          setResult('A fájl mérete meghaladta a maximális méretet! (2 Mb)');\n          break;\n\n        case 'mysql_form_exists_error':\n          setResult('A vizsga felvétele nem sikerült, mivel a megadott formalapszámhoz már hozzárendeltek egy vizsgát!');\n          break;\n\n        case 'mysql_item_exists_error':\n          setResult('A vizsga felvétele nem sikerült, mivel a megadott termékkódhoz már hozzárendeltek egy vizsgát!');\n          break;\n\n        case 'mysql_name_exists_error':\n          setResult('A vizsga felvétele nem sikerült, mivel ilyen névvel már létezik vizsga');\n          break;\n\n        case 'mysql_invalid_itemcode':\n          setResult('A vizsga felvétele nem sikerült, mivel ilyen termékkód nem létezik!');\n          break;\n\n        default:\n          setResult(null);\n          return;\n      }\n    }).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container shadow rounded p-3 bg-light mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, uploaded ? /*#__PURE__*/React.createElement(Redirect, {\n    from: \"/exams\",\n    to: `/exams/modify/${item}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center m-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 45\n    }\n  }, \"\\xDAj vizsga felt\\xF6lt\\xE9se:\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container text-center mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"item\",\n    className: \"pl-2 w-50 rounded\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: -1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, \"A vizsga term\\xE9ke\"), items.length === 0 ? /*#__PURE__*/React.createElement(React.Fragment, null) : items.map((elem, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: elem[1],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 33\n      }\n    }, elem[0]);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-auto w-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"examName\",\n    onChange: handleChange,\n    value: examName || '',\n    required: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"examName\",\n    className: \"label-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"content-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  }, \"A vizsga megnevez\\xE9se:\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-auto w-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"comment\",\n    onChange: handleChange,\n    value: comment || '',\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"comment\",\n    className: \"label-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"content-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, \"Megjegyz\\xE9s:\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: handleChange,\n    name: \"examDoc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-warning mt-3\",\n    value: \"L\\xE9trehoz\\xE1s\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, \"Felt\\xF6lt\\xE9s!\"))), result ? /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"alert alert-secondary mt-3 text-center\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 23\n    }\n  }, result) : /*#__PURE__*/React.createElement(React.Fragment, null));\n}","map":{"version":3,"sources":["C:/Users/Márk/Documents/GitHub/jpskills/client/src/components/exams/create/CreateTest.js"],"names":["React","useState","useEffect","Redirect","API","CreateTest","props","permission","socket","item","setItem","examName","setExamName","comment","setComment","examDoc","setExamDoc","result","setResult","items","setItems","uploaded","setUploaded","emit","on","products","handleChange","event","target","name","value","console","log","files","handleSubmit","preventDefault","data","FormData","append","post","headers","_boundary","then","res","catch","err","length","map","elem","index"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nimport API from '../../BackendAPI'\r\n\r\nexport default function CreateTest(props){\r\n\r\n    const permission = props.permission\r\n    const socket = props.socket\r\n\r\n    const [item, setItem] = useState(null)\r\n    const [examName, setExamName] = useState(null)\r\n    const [comment, setComment] = useState(null)\r\n    const [examDoc, setExamDoc] = useState(null)\r\n    const [result, setResult] = useState(null)\r\n    const [items, setItems] = useState([])\r\n    const [uploaded, setUploaded] = useState(false)\r\n    \r\n    useEffect(() =>{\r\n\r\n        socket.emit('get-products')\r\n\r\n    }, [socket])\r\n\r\n    useEffect(() => {\r\n        socket.on('products-emitter', products => {\r\n            if(products){\r\n                setItems(products)\r\n            }else{\r\n                setItems([])\r\n            }\r\n        })\r\n    })\r\n\r\n    function handleChange(event){\r\n        switch(event.target.name){\r\n            case 'item':\r\n                if(event.target.value === 'A vizsga terméke'){\r\n                    break\r\n                }else{\r\n                    setItem(event.target.value)\r\n                    break\r\n                }\r\n            case 'examName':\r\n                setExamName(event.target.value)\r\n                break\r\n            case 'comment':\r\n                setComment(event.target.value)\r\n                break\r\n            case 'examDoc':\r\n                console.log(event.target.files[0])\r\n                setExamDoc(event.target.files[0])\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    function handleSubmit(event){\r\n        event.preventDefault()\r\n\r\n        if(permission !== 'admin'){\r\n            setResult('Parancs megtagadva! Nincs megfelelő jogosultsága!')\r\n            return\r\n        }\r\n\r\n        if(examDoc == null){\r\n            setResult('A fájl feltöltése kötelező!')\r\n            return\r\n        }\r\n        if(item == null || examName == null){\r\n            setResult('Legalább egy kötelező mező üresen maradt!')\r\n            return\r\n        }\r\n\r\n        const data = new FormData()\r\n        data.append('item', item)\r\n        data.append('examName', examName)\r\n        data.append('comment', comment)\r\n        data.append('examDoc', examDoc)\r\n\r\n        setResult(null)\r\n        API.post('/exams/upload', data, {headers: {'Content-Type': `multipart/form-data; boundary=${data._boundary}`}})\r\n            .then(res => {\r\n                switch(res.data.result){\r\n                    case 'invalid_file_type':\r\n                        setResult('A fájl kiterjesztése nem PDF!')\r\n                        break\r\n                    case 200:\r\n                        setResult('A vizsga felvétele sikeres volt!')\r\n                        setUploaded(true)\r\n                        socket.emit('get-products')\r\n                        socket.emit('exams-get-signal')\r\n                        break\r\n                    case 'invalid_file_size':\r\n                        setResult('A fájl mérete meghaladta a maximális méretet! (2 Mb)')\r\n                        break\r\n                    case 'mysql_form_exists_error':\r\n                        setResult('A vizsga felvétele nem sikerült, mivel a megadott formalapszámhoz már hozzárendeltek egy vizsgát!')\r\n                        break\r\n                    case 'mysql_item_exists_error':\r\n                        setResult('A vizsga felvétele nem sikerült, mivel a megadott termékkódhoz már hozzárendeltek egy vizsgát!')\r\n                        break\r\n                    case 'mysql_name_exists_error':\r\n                        setResult('A vizsga felvétele nem sikerült, mivel ilyen névvel már létezik vizsga')\r\n                        break\r\n                    case 'mysql_invalid_itemcode':\r\n                        setResult('A vizsga felvétele nem sikerült, mivel ilyen termékkód nem létezik!')\r\n                        break\r\n                    default:\r\n                        setResult(null)\r\n                        return\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div className=\"container shadow rounded p-3 bg-light mt-3\">\r\n            {uploaded ? <Redirect from='/exams' to={`/exams/modify/${item}`} /> : null}\r\n            <h1 className=\"text-center m-3\"><p>Új vizsga feltöltése:</p></h1>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"container text-center mb-2\">\r\n                    <select name=\"item\" className=\"pl-2 w-50 rounded\" onChange={handleChange}>\r\n                        <option defaultValue={-1}>A vizsga terméke</option>\r\n                        {items.length === 0 ? <></> : items.map((elem, index) =>{\r\n                            return(\r\n                                <option key={index} value={elem[1]}>{elem[0]}</option>\r\n                            )\r\n                        })}\r\n                    </select>\r\n                </div>\r\n                \r\n                <div className=\"form-group m-auto w-75\">\r\n                    <input type=\"text\" name=\"examName\" onChange={handleChange} value={examName || ''} required autoComplete=\"off\"/>\r\n                    <label htmlFor=\"examName\" className=\"label-name\">\r\n                        <span className=\"content-name\">\r\n                            A vizsga megnevezése:\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-group m-auto w-75\">\r\n                    <input type=\"text\" name=\"comment\" onChange={handleChange} value={comment || ''} autoComplete=\"off\"/>\r\n                    <label htmlFor=\"comment\" className=\"label-name\">\r\n                        <span className=\"content-name\">\r\n                            Megjegyzés:\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <input type=\"file\" onChange={handleChange} name=\"examDoc\"/>\r\n                </div>\r\n                <div className=\"container text-center\">\r\n                    <button type=\"submit\" className=\"btn btn-warning mt-3\" value=\"Létrehozás\">Feltöltés!</button>\r\n                </div>\r\n            </form>\r\n            {result ? <h3 className=\"alert alert-secondary mt-3 text-center\" role=\"alert\">{result}</h3> : <></>}\r\n        </div>\r\n    )\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}