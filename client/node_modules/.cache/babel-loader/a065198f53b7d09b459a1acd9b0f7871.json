{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\M\\xE1rk\\\\Documents\\\\GitHub\\\\jpskills\\\\client\\\\src\\\\components\\\\exams\\\\examination\\\\Examination.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Redirect, useParams } from 'react-router-dom';\nimport RenderContent from './RenderContent';\nimport model from '../models/QuestionsModel';\nimport manager from '../../GlobalSocket';\nexport default function Examination() {\n  const socket = new manager().socket;\n  const exam = useParams().examCode;\n  const [examProps, setExamProps] = useState([]);\n  const [finished, setFinished] = useState(false);\n  const [questions, setQuestions] = useState([]);\n  useEffect(() => {\n    socket.emit('request-exam-content', exam);\n    socket.emit('begin-timer');\n    return () => {\n      socket.emit('cancel-timer');\n      socket.disconnect();\n    }; // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    socket.on('exam-processed', () => {\n      setFinished(true);\n    });\n    socket.on('exam-content', (examName, questionList, notes, status, points) => {\n      setExamProps([examName, notes, status, points]);\n      setQuestions(model(questionList).questions);\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container bg-white rounded shadow py-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, finished ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/exams/:examCode/results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, \"Vizsga: \", examProps[0])), /*#__PURE__*/React.createElement(RenderContent, {\n    socket: socket,\n    list: questions,\n    exam: exam,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/MÃ¡rk/Documents/GitHub/jpskills/client/src/components/exams/examination/Examination.js"],"names":["React","useEffect","useState","Redirect","useParams","RenderContent","model","manager","Examination","socket","exam","examCode","examProps","setExamProps","finished","setFinished","questions","setQuestions","emit","disconnect","on","examName","questionList","notes","status","points"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,QAAR,EAAkBC,SAAlB,QAAkC,kBAAlC;AAEA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AAEA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,eAAe,SAASC,WAAT,GAAsB;AAEjC,QAAMC,MAAM,GAAG,IAAIF,OAAJ,GAAcE,MAA7B;AACA,QAAMC,IAAI,GAAGN,SAAS,GAAGO,QAAzB;AAEA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACc,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAC,EAAD,CAA1C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,MAAM,CAACS,IAAP,CAAY,sBAAZ,EAAoCR,IAApC;AACAD,IAAAA,MAAM,CAACS,IAAP,CAAY,aAAZ;AAEA,WAAO,MAAM;AACTT,MAAAA,MAAM,CAACS,IAAP,CAAY,cAAZ;AACAT,MAAAA,MAAM,CAACU,UAAP;AACH,KAHD,CAJY,CASZ;AACH,GAVQ,EAUN,EAVM,CAAT;AAYAlB,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,MAAM,CAACW,EAAP,CAAU,gBAAV,EAA4B,MAAM;AAC9BL,MAAAA,WAAW,CAAC,IAAD,CAAX;AACH,KAFD;AAIAN,IAAAA,MAAM,CAACW,EAAP,CAAU,cAAV,EAA0B,CAACC,QAAD,EAAWC,YAAX,EAAyBC,KAAzB,EAAgCC,MAAhC,EAAwCC,MAAxC,KAAmD;AACzEZ,MAAAA,YAAY,CAAC,CAACQ,QAAD,EAAWE,KAAX,EAAkBC,MAAlB,EAA0BC,MAA1B,CAAD,CAAZ;AAEAR,MAAAA,YAAY,CAACX,KAAK,CAACgB,YAAD,CAAL,CAAoBN,SAArB,CAAZ;AACH,KAJD;AAKH,GAVQ,CAAT;AAYA,sBACI;AAAK,IAAA,SAAS,EAAC,6CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,QAAQ,gBAAG,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,0BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAAgD,IAD7D,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAG,IAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAoCF,SAAS,CAAC,CAAD,CAA7C,CAAJ,CAFJ,eAGI,oBAAC,aAAD;AAAe,IAAA,MAAM,EAAEH,MAAvB;AAA+B,IAAA,IAAI,EAAEO,SAArC;AAAgD,IAAA,IAAI,EAAEN,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ;AAOH","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {Redirect, useParams} from 'react-router-dom'\r\n\r\nimport RenderContent from './RenderContent'\r\nimport model from '../models/QuestionsModel'\r\n\r\nimport manager from '../../GlobalSocket'\r\n\r\nexport default function Examination(){\r\n\r\n    const socket = new manager().socket\r\n    const exam = useParams().examCode\r\n\r\n    const [examProps, setExamProps] = useState([])\r\n    const [finished, setFinished] = useState(false)\r\n    const [questions, setQuestions] = useState([])\r\n\r\n    useEffect(() => {\r\n        socket.emit('request-exam-content', exam)\r\n        socket.emit('begin-timer')\r\n\r\n        return () => {\r\n            socket.emit('cancel-timer')\r\n            socket.disconnect()\r\n        }\r\n\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        socket.on('exam-processed', () => {\r\n            setFinished(true)\r\n        })\r\n\r\n        socket.on('exam-content', (examName, questionList, notes, status, points) => {\r\n            setExamProps([examName, notes, status, points])\r\n            \r\n            setQuestions(model(questionList).questions)\r\n        })\r\n    })\r\n\r\n    return (\r\n        <div className=\"container bg-white rounded shadow py-3 mb-3\">\r\n            {finished ? <Redirect to='/exams/:examCode/results' /> : null}\r\n            <h2><p className=\"text-center\">Vizsga: {examProps[0]}</p></h2>\r\n            <RenderContent socket={socket} list={questions} exam={exam}/>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}