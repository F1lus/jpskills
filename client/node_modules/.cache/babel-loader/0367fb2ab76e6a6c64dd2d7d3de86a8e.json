{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\M\\xE1rk\\\\Documents\\\\GitHub\\\\jpskills\\\\client\\\\src\\\\components\\\\exams\\\\create\\\\CreateTest.js\";\nimport React, { useState } from 'react';\nimport API from '../../BackendAPI';\nimport { UploadIcon } from '@primer/octicons-react';\nexport default function CreateTest(props) {\n  const permission = props.permission;\n  const [item, setItem] = useState(null);\n  const [formNum, setFormNum] = useState(null);\n  const [examName, setExamName] = useState(null);\n  const [comment, setComment] = useState(null);\n  const [examDoc, setExamDoc] = useState(null);\n  const [result, setResult] = useState(null);\n\n  function handleChange(event) {\n    switch (event.target.name) {\n      case 'item':\n        setItem(event.target.value);\n        break;\n\n      case 'formNum':\n        setFormNum(event.target.value);\n        break;\n\n      case 'examName':\n        setExamName(event.target.value);\n        break;\n\n      case 'comment':\n        setComment(event.target.value);\n        break;\n\n      case 'examDoc':\n        setExamDoc(event.target.files[0]);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if (permission !== 'admin') {\n      setResult('Parancs megtagadva! Nincs megfelelő jogosultsága!');\n      return;\n    }\n\n    if (examDoc == null) {\n      setResult('A fájl feltöltése kötelező!');\n      return;\n    }\n\n    if (item == null || formNum == null || examName == null) {\n      setResult('Legalább egy kötelező mező üresen maradt!');\n      return;\n    }\n\n    const data = new FormData();\n    data.append('item', item);\n    data.append('formNum', formNum);\n    data.append('examName', examName);\n    data.append('comment', comment);\n    data.append('examDoc', examDoc);\n    setResult(null);\n    API.post('/exams/upload', data, {\n      headers: {\n        'Content-Type': `multipart/form-data; boundary=${data._boundary}`\n      }\n    }).then(res => {\n      switch (res.data.result) {\n        case 'invalid_file_type':\n          setResult('A fájl kiterjesztése nem PDF!');\n          break;\n\n        case 200:\n          setResult('A vizsga felvétele sikeres volt!');\n          break;\n\n        case 500:\n          setResult('A vizsga felvétele nem sikerült! Próbálja újra később!');\n          break;\n\n        case 'mysql_form_exists_error':\n          setResult('A vizsga felvétele nem sikerült, mivel a megadott formalapszámhoz már hozzárendeltek egy vizsgát!');\n          break;\n\n        case 'mysql_item_exists_error':\n          setResult('A vizsga felvétele nem sikerült, mivel a megadott termékkódhoz már hozzárendeltek egy vizsgát!');\n          break;\n\n        case 'mysql_name_exists_error':\n          setResult('A vizsga felvétele nem sikerült, mivel ilyen névvel már létezik vizsga');\n          break;\n\n        case 'mysql_invalid_itemcode':\n          setResult('A vizsga felvétele nem sikerült, mivel ilyen termékkód nem létezik!');\n          break;\n\n        default:\n          setResult(null);\n          return;\n      }\n    }).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container shadow rounded p-3 bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center m-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 45\n    }\n  }, \"\\xDAj vizsga felt\\xF6lt\\xE9se:\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"item\",\n    onChange: handleChange,\n    value: item || '',\n    required: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"item\",\n    className: \"label-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"content-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, \"A vizsga term\\xE9ke:\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"formNum\",\n    onChange: handleChange,\n    value: formNum || '',\n    required: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"formNum\",\n    className: \"label-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"content-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, \"A term\\xE9k formlapsz\\xE1ma:\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"examName\",\n    onChange: handleChange,\n    value: examName || '',\n    required: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"examName\",\n    className: \"label-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"content-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, \"A vizsga megnevez\\xE9se:\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"comment\",\n    onChange: handleChange,\n    value: comment || '',\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"comment\",\n    className: \"label-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"content-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, \"Megjegyz\\xE9s:\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mx-auto mb-2 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: handleChange,\n    id: \"pdfFel\",\n    name: \"examDoc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"pdfFel\",\n    className: \"btn btn-outline-primary rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(UploadIcon, {\n    size: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 29\n    }\n  }), \"\\xA0\"), \"V\\xE1lassza ki a felt\\xF6ltend\\u0151 f\\xE1jlt!\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-warning\",\n    value: \"L\\xE9trehoz\\xE1s\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, \"Felt\\xF6lt\\xE9s!\"))), result ? /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"alert alert-secondary mt-3 text-center\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 23\n    }\n  }, result) : /*#__PURE__*/React.createElement(React.Fragment, null));\n}","map":{"version":3,"sources":["C:/Users/Márk/Documents/GitHub/jpskills/client/src/components/exams/create/CreateTest.js"],"names":["React","useState","API","UploadIcon","CreateTest","props","permission","item","setItem","formNum","setFormNum","examName","setExamName","comment","setComment","examDoc","setExamDoc","result","setResult","handleChange","event","target","name","value","files","handleSubmit","preventDefault","data","FormData","append","post","headers","_boundary","then","res","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport API from '../../BackendAPI'\r\nimport { UploadIcon } from '@primer/octicons-react';\r\n\r\nexport default function CreateTest(props){\r\n\r\n    const permission = props.permission\r\n\r\n    const [item, setItem] = useState(null)\r\n    const [formNum, setFormNum] = useState(null)\r\n    const [examName, setExamName] = useState(null)\r\n    const [comment, setComment] = useState(null)\r\n    const [examDoc, setExamDoc] = useState(null)\r\n    const [result, setResult] = useState(null)\r\n    \r\n\r\n    function handleChange(event){\r\n        switch(event.target.name){\r\n            case 'item':\r\n                setItem(event.target.value)\r\n                break\r\n            case 'formNum':\r\n                setFormNum(event.target.value)\r\n                break\r\n            case 'examName':\r\n                setExamName(event.target.value)\r\n                break\r\n            case 'comment':\r\n                setComment(event.target.value)\r\n                break\r\n            case 'examDoc':\r\n                setExamDoc(event.target.files[0])\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    function handleSubmit(event){\r\n        event.preventDefault()\r\n\r\n        if(permission !== 'admin'){\r\n            setResult('Parancs megtagadva! Nincs megfelelő jogosultsága!')\r\n            return\r\n        }\r\n\r\n        if(examDoc == null){\r\n            setResult('A fájl feltöltése kötelező!')\r\n            return\r\n        }\r\n        if(item == null || formNum == null || examName == null){\r\n            setResult('Legalább egy kötelező mező üresen maradt!')\r\n            return\r\n        }\r\n\r\n        const data = new FormData()\r\n        data.append('item', item)\r\n        data.append('formNum', formNum)\r\n        data.append('examName', examName)\r\n        data.append('comment', comment)\r\n        data.append('examDoc', examDoc)\r\n\r\n        setResult(null)\r\n        API.post('/exams/upload', data, {headers: {'Content-Type': `multipart/form-data; boundary=${data._boundary}`}})\r\n            .then(res => {\r\n                switch(res.data.result){\r\n                    case 'invalid_file_type':\r\n                        setResult('A fájl kiterjesztése nem PDF!')\r\n                        break\r\n                    case 200:\r\n                        setResult('A vizsga felvétele sikeres volt!')\r\n                        break\r\n                    case 500:\r\n                        setResult('A vizsga felvétele nem sikerült! Próbálja újra később!')\r\n                        break\r\n                    case 'mysql_form_exists_error':\r\n                        setResult('A vizsga felvétele nem sikerült, mivel a megadott formalapszámhoz már hozzárendeltek egy vizsgát!')\r\n                        break\r\n                    case 'mysql_item_exists_error':\r\n                        setResult('A vizsga felvétele nem sikerült, mivel a megadott termékkódhoz már hozzárendeltek egy vizsgát!')\r\n                        break\r\n                    case 'mysql_name_exists_error':\r\n                        setResult('A vizsga felvétele nem sikerült, mivel ilyen névvel már létezik vizsga')\r\n                        break\r\n                    case 'mysql_invalid_itemcode':\r\n                        setResult('A vizsga felvétele nem sikerült, mivel ilyen termékkód nem létezik!')\r\n                        break\r\n                    default:\r\n                        setResult(null)\r\n                        return\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div className=\"container shadow rounded p-3 bg-light\">\r\n            <h1 className=\"text-center m-3\"><p>Új vizsga feltöltése:</p></h1>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group m-auto\">\r\n                    <input type=\"text\" name=\"item\" onChange={handleChange} value={item || ''} required autoComplete=\"off\"/>\r\n                    <label htmlFor=\"item\" className=\"label-name\">\r\n                        <span className=\"content-name\">\r\n                            A vizsga terméke:\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-group m-auto\">\r\n                    <input type=\"text\" name=\"formNum\" onChange={handleChange} value={formNum || ''} required autoComplete=\"off\"/>\r\n                    <label htmlFor=\"formNum\" className=\"label-name\">\r\n                        <span className=\"content-name\">\r\n                            A termék formlapszáma:\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-group m-auto\">\r\n                    <input type=\"text\" name=\"examName\" onChange={handleChange} value={examName || ''} required autoComplete=\"off\"/>\r\n                    <label htmlFor=\"examName\" className=\"label-name\">\r\n                        <span className=\"content-name\">\r\n                            A vizsga megnevezése:\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-group m-auto\">\r\n                    <input type=\"text\" name=\"comment\" onChange={handleChange} value={comment || ''} autoComplete=\"off\"/>\r\n                    <label htmlFor=\"comment\" className=\"label-name\">\r\n                        <span className=\"content-name\">\r\n                            Megjegyzés:\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n                <div className=\"container mx-auto mb-2 text-center\">\r\n                    <input type=\"file\" onChange={handleChange} id=\"pdfFel\" name=\"examDoc\"/>\r\n                    <label htmlFor=\"pdfFel\" className=\"btn btn-outline-primary rounded\">\r\n                        <i>\r\n                            <UploadIcon size={24} />\r\n                            &nbsp;\r\n                        </i>\r\n                        Válassza ki a feltöltendő fájlt!\r\n                    </label>\r\n                </div>\r\n                <div className=\"container text-center\">\r\n                    <button type=\"submit\" className=\"btn btn-warning\" value=\"Létrehozás\">Feltöltés!</button>\r\n                </div>\r\n            </form>\r\n            {result ? <h3 className=\"alert alert-secondary mt-3 text-center\" role=\"alert\">{result}</h3> : <></>}\r\n        </div>\r\n    )\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}