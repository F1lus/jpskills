{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\M\\xE1rk\\\\Documents\\\\GitHub\\\\jpskills\\\\client\\\\src\\\\components\\\\exams\\\\modify\\\\ModifyPdf.js\";\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport { ArrowLeftIcon, ArrowRightIcon } from '@primer/octicons-react';\nModal.setAppElement('#modal');\nexport default function ModalElement(props) {\n  const socket = props.socket;\n  const exam = props.exam;\n  const [show, setShow] = useState(false);\n  const [doc, setDoc] = useState(null);\n  const [pageNum, setPageNum] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const open = () => setShow(true);\n\n  const close = () => setShow(false);\n\n  pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n  useEffect(() => {\n    if (show) {\n      socket.emit('examDoc-signal', exam);\n      socket.on('examDoc-emitter', document => {\n        if (document) {\n          setDoc(document);\n        }\n      });\n    } else {\n      setDoc(null);\n      setPageNum(null);\n      setCurrentPage(1);\n    } // eslint-disable-next-line\n\n  }, [show]);\n\n  function onDocumentLoadSuccess(numPages) {\n    setPageNum(numPages);\n  }\n\n  function nextPage(event) {\n    event.preventDefault();\n\n    if (pageNum) {\n      setCurrentPage(page => {\n        if (page + 1 > pageNum) {\n          return page;\n        } else {\n          return page + 1;\n        }\n      });\n    }\n  }\n\n  function prevPage(event) {\n    event.preventDefault();\n\n    if (pageNum) {\n      setCurrentPage(page => {\n        if (page - 1 < 1) {\n          return page;\n        } else {\n          return page - 1;\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning m-3\",\n    onClick: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"PDF m\\xF3dos\\xEDt\\xE1s\"), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: show,\n    onRequestClose: close,\n    style: {\n      overlay: {\n        marginTop: \"30px\",\n        backgroundColor: \"rgba(0,0,0,0.3)\",\n        backdropFilter: \"blur(6px)\"\n      },\n      content: {\n        textAlign: \"center\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"A vizsg\\xE1hoz tartoz\\xF3 tananyag\"), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"w-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"w-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning m-2\",\n    onClick: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, \"Bez\\xE1r!\"))));\n}","map":{"version":3,"sources":["C:/Users/Márk/Documents/GitHub/jpskills/client/src/components/exams/modify/ModifyPdf.js"],"names":["React","useState","useEffect","Modal","Document","Page","pdfjs","ArrowLeftIcon","ArrowRightIcon","setAppElement","ModalElement","props","socket","exam","show","setShow","doc","setDoc","pageNum","setPageNum","currentPage","setCurrentPage","open","close","GlobalWorkerOptions","workerSrc","version","emit","on","document","onDocumentLoadSuccess","numPages","nextPage","event","preventDefault","page","prevPage","overlay","marginTop","backgroundColor","backdropFilter","content","textAlign"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAAQC,QAAR,EAAkBC,IAAlB,EAAwBC,KAAxB,QAAoC,WAApC;AAEA,OAAO,6CAAP;AAEA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,wBAA9C;AAEAL,KAAK,CAACM,aAAN,CAAoB,QAApB;AAEA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAExC,QAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,QAAMC,IAAI,GAAGF,KAAK,CAACE,IAAnB;AAEA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACe,GAAD,EAAMC,MAAN,IAAgBhB,QAAQ,CAAC,IAAD,CAA9B;AACA,QAAM,CAACiB,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACmB,WAAD,EAAcC,cAAd,IAAgCpB,QAAQ,CAAC,CAAD,CAA9C;;AAEA,QAAMqB,IAAI,GAAG,MAAMP,OAAO,CAAC,IAAD,CAA1B;;AACA,QAAMQ,KAAK,GAAG,MAAMR,OAAO,CAAC,KAAD,CAA3B;;AAEAT,EAAAA,KAAK,CAACkB,mBAAN,CAA0BC,SAA1B,GAAuC,2CAA0CnB,KAAK,CAACoB,OAAQ,gBAA/F;AAEAxB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGY,IAAH,EAAQ;AACJF,MAAAA,MAAM,CAACe,IAAP,CAAY,gBAAZ,EAA8Bd,IAA9B;AAEAD,MAAAA,MAAM,CAACgB,EAAP,CAAU,iBAAV,EAA6BC,QAAQ,IAAI;AACrC,YAAGA,QAAH,EAAY;AACRZ,UAAAA,MAAM,CAACY,QAAD,CAAN;AACH;AACJ,OAJD;AAKH,KARD,MAQK;AACDZ,MAAAA,MAAM,CAAC,IAAD,CAAN;AACAE,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAE,MAAAA,cAAc,CAAC,CAAD,CAAd;AACH,KAbW,CAcZ;;AACH,GAfQ,EAeN,CAACP,IAAD,CAfM,CAAT;;AAiBA,WAASgB,qBAAT,CAA+BC,QAA/B,EAAyC;AACrCZ,IAAAA,UAAU,CAACY,QAAD,CAAV;AACH;;AAED,WAASC,QAAT,CAAkBC,KAAlB,EAAwB;AACpBA,IAAAA,KAAK,CAACC,cAAN;;AACA,QAAGhB,OAAH,EAAW;AACPG,MAAAA,cAAc,CAACc,IAAI,IAAI;AACnB,YAAGA,IAAI,GAAC,CAAL,GAASjB,OAAZ,EAAoB;AAChB,iBAAOiB,IAAP;AACH,SAFD,MAEK;AACD,iBAAOA,IAAI,GAAC,CAAZ;AACH;AACJ,OANa,CAAd;AAOH;AACJ;;AACD,WAASC,QAAT,CAAkBH,KAAlB,EAAwB;AACpBA,IAAAA,KAAK,CAACC,cAAN;;AACA,QAAGhB,OAAH,EAAW;AACPG,MAAAA,cAAc,CAACc,IAAI,IAAI;AACnB,YAAGA,IAAI,GAAC,CAAL,GAAS,CAAZ,EAAc;AACV,iBAAOA,IAAP;AACH,SAFD,MAEK;AACD,iBAAOA,IAAI,GAAC,CAAZ;AACH;AACJ,OANa,CAAd;AAOH;AACJ;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,SAAS,EAAC,qBAAlB;AAAwC,IAAA,OAAO,EAAEb,IAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,eAKI,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAER,IAAf;AAAqB,IAAA,cAAc,EAAES,KAArC;AACA,IAAA,KAAK,EACD;AACIc,MAAAA,OAAO,EAAE;AACLC,QAAAA,SAAS,EAAE,MADN;AAELC,QAAAA,eAAe,EAAE,iBAFZ;AAGLC,QAAAA,cAAc,EAAE;AAHX,OADb;AAMIC,MAAAA,OAAO,EAAE;AACLC,QAAAA,SAAS,EAAE;AADN;AANb,KAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAaI;AAAK,IAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CADJ,eAEI;AAAI,IAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAHJ,eASI;AAAI,IAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,eAUI;AAAQ,IAAA,SAAS,EAAC,qBAAlB;AAAwC,IAAA,OAAO,EAAEnB,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAVJ,CAbJ,CALJ,CADJ;AAkCH","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Modal from 'react-modal'\r\nimport {Document, Page, pdfjs} from 'react-pdf'\r\n\r\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\r\n\r\nimport { ArrowLeftIcon, ArrowRightIcon } from '@primer/octicons-react';\r\n\r\nModal.setAppElement('#modal')\r\n\r\nexport default function ModalElement(props) {\r\n\r\n    const socket = props.socket\r\n    const exam = props.exam\r\n\r\n    const [show, setShow] = useState(false)\r\n    const [doc, setDoc] = useState(null)\r\n    const [pageNum, setPageNum] = useState(null);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n\r\n    const open = () => setShow(true)\r\n    const close = () => setShow(false)\r\n\r\n    pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\r\n\r\n    useEffect(() => {\r\n        if(show){\r\n            socket.emit('examDoc-signal', exam)\r\n\r\n            socket.on('examDoc-emitter', document => {\r\n                if(document){\r\n                    setDoc(document)\r\n                }\r\n            })\r\n        }else{\r\n            setDoc(null)\r\n            setPageNum(null)\r\n            setCurrentPage(1)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [show])\r\n\r\n    function onDocumentLoadSuccess(numPages) {\r\n        setPageNum(numPages)\r\n    }\r\n\r\n    function nextPage(event){\r\n        event.preventDefault()\r\n        if(pageNum){\r\n            setCurrentPage(page => {\r\n                if(page+1 > pageNum){\r\n                    return page\r\n                }else{\r\n                    return page+1\r\n                }\r\n            })\r\n        }\r\n    }\r\n    function prevPage(event){\r\n        event.preventDefault()\r\n        if(pageNum){\r\n            setCurrentPage(page => {\r\n                if(page-1 < 1){\r\n                    return page\r\n                }else{\r\n                    return page-1\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <button className=\"btn btn-warning m-3\" onClick={open}>\r\n                PDF módosítás\r\n            </button>\r\n\r\n            <Modal isOpen={show} onRequestClose={close}\r\n            style={\r\n                {\r\n                    overlay: {\r\n                        marginTop: \"30px\",\r\n                        backgroundColor: \"rgba(0,0,0,0.3)\",\r\n                        backdropFilter: \"blur(6px)\"\r\n                    },\r\n                    content: {\r\n                        textAlign: \"center\"\r\n                    }\r\n                }\r\n            }>\r\n                <div id='modal'>\r\n                    <h1>A vizsgához tartozó tananyag</h1>\r\n                    <hr className=\"w-75\"/>\r\n                    <div className=\"container\">\r\n                    \r\n                        <form>\r\n\r\n                        </form>\r\n                    </div>\r\n                    <hr className=\"w-75\"/>\r\n                    <button className=\"btn btn-warning m-2\" onClick={close}>Bezár!</button>\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}