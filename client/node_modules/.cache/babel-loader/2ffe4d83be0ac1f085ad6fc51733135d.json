{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\M\\xE1rk\\\\Documents\\\\GitHub\\\\jpskills\\\\client\\\\src\\\\components\\\\user_management\\\\Login.js\";\nimport React, { useState } from 'react';\nimport API from '../BackendAPI';\nexport default function Login() {\n  const [cardNum, setCardNum] = useState('');\n  const [password, setPassword] = useState('');\n  const [alert, setAlert] = useState(null);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if (cardNum || password) {\n      setAlert('A kártyaszám, vagy jelszó mező hiányos!');\n      return;\n    }\n\n    const data = new FormData();\n    data.append('cardNum', cardNum);\n    data.append('password', password);\n    API.post('/login', data, {\n      headers: {\n        'Content-Type': `multipart/form-data; boundary=${data._boundary}`\n      }\n    }).then(result => {\n      if (result.data.access) {\n        window.location.reload();\n      } else {\n        setAlert('A megadott adatok egyike hibás!');\n      }\n    }).catch(err => {\n      setAlert('Hiba történt! Próbálja újra!');\n      console.log(err);\n    });\n  }\n\n  function handleChange(event) {\n    switch (event.target.name) {\n      case 'cardNum':\n        setCardNum(event.target.value);\n        break;\n\n      case 'password':\n        setPassword(event.target.value);\n        break;\n\n      default:\n        return;\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center vh-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container shadow rounded text-center bg-light p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, \"Jelentkezzen be!\")), alert ? /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"alert alert-danger text-center\",\n    id: \"hiba\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 30\n    }\n  }, alert) : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"cardNum\",\n    className: \"form-control\",\n    placeholder: \"K\\xE1rtyasz\\xE1m\",\n    value: cardNum || '',\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    className: \"form-control\",\n    placeholder: \"Jelsz\\xF3\",\n    value: password || '',\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning\",\n    onClick: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, \"Bejelentkez\\xE9s\")))));\n}","map":{"version":3,"sources":["C:/Users/Márk/Documents/GitHub/jpskills/client/src/components/user_management/Login.js"],"names":["React","useState","API","Login","cardNum","setCardNum","password","setPassword","alert","setAlert","handleSubmit","event","preventDefault","data","FormData","append","post","headers","_boundary","then","result","access","window","location","reload","catch","err","console","log","handleChange","target","name","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport API from '../BackendAPI'\r\n\r\nexport default function Login(){\r\n\r\n    const [cardNum, setCardNum] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [alert, setAlert] = useState(null)\r\n\r\n    function handleSubmit(event){\r\n        event.preventDefault()\r\n        if(cardNum || password){\r\n            setAlert('A kártyaszám, vagy jelszó mező hiányos!')\r\n            return\r\n        }\r\n\r\n        const data = new FormData()\r\n        data.append('cardNum', cardNum)\r\n        data.append('password', password)\r\n\r\n        API.post('/login', data, {headers: {'Content-Type': `multipart/form-data; boundary=${data._boundary}`}})\r\n            .then(result => {\r\n                if(result.data.access){\r\n                    window.location.reload()\r\n                }else{\r\n                    setAlert('A megadott adatok egyike hibás!')\r\n                }\r\n            }).catch(err =>{\r\n                setAlert('Hiba történt! Próbálja újra!')\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    function handleChange(event){\r\n        switch(event.target.name){\r\n            case 'cardNum':\r\n                setCardNum(event.target.value)\r\n                break\r\n            case 'password':\r\n                setPassword(event.target.value)\r\n                break\r\n            default:\r\n                return\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"d-flex align-items-center vh-100\">\r\n                <div className=\"container shadow rounded text-center bg-light p-3\">\r\n                    <h1><p>Jelentkezzen be!</p></h1>\r\n                    {alert ? <h3 className=\"alert alert-danger text-center\" id=\"hiba\">{alert}</h3> : <></>}\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"text\" name=\"cardNum\" className=\"form-control\" placeholder=\"Kártyaszám\" value={cardNum || ''} onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"password\" name=\"password\" className=\"form-control\" placeholder=\"Jelszó\" value={password || ''} onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button className=\"btn btn-warning\" onClick={handleChange}>Bejelentkezés</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}